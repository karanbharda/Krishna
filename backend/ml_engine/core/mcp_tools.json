{
    "mcp_version": "1.0",
    "tools": [
        {
            "name": "predict",
            "description": "Generate stock price predictions using ensemble ML models (LightGBM + XGBoost + DQN)",
            "endpoint": "/tools/predict",
            "method": "POST",
            "authentication": "required",
            "rate_limit": true,
            "parameters": {
                "symbols": {
                    "type": "array",
                    "required": true,
                    "description": "List of stock symbols to predict",
                    "example": [
                        "AAPL",
                        "RPOWER.NS"
                    ]
                },
                "horizon": {
                    "type": "string",
                    "required": false,
                    "default": "intraday",
                    "options": [
                        "intraday",
                        "short",
                        "long"
                    ],
                    "description": "Prediction time horizon"
                },
                "risk_profile": {
                    "type": "string",
                    "required": false,
                    "options": [
                        "low",
                        "moderate",
                        "high"
                    ],
                    "description": "Filter by risk profile"
                },
                "stop_loss_pct": {
                    "type": "number",
                    "required": false,
                    "description": "Stop loss percentage for risk-adjusted scoring"
                },
                "capital_risk_pct": {
                    "type": "number",
                    "required": false,
                    "description": "Capital risk percentage"
                },
                "drawdown_limit_pct": {
                    "type": "number",
                    "required": false,
                    "description": "Maximum drawdown limit percentage"
                }
            },
            "returns": {
                "metadata": "Prediction metadata (count, horizon, timestamp)",
                "predictions": "Array of prediction objects with prices, actions, confidence"
            }
        },
        {
            "name": "scan_all",
            "description": "Scan multiple symbols and return ranked shortlist based on predictions",
            "endpoint": "/tools/scan_all",
            "method": "POST",
            "authentication": "required",
            "rate_limit": true,
            "parameters": {
                "symbols": {
                    "type": "array",
                    "required": true,
                    "description": "List of stock symbols to scan (max 50)"
                },
                "horizon": {
                    "type": "string",
                    "required": false,
                    "default": "intraday"
                },
                "min_confidence": {
                    "type": "number",
                    "required": false,
                    "default": 0.3,
                    "description": "Minimum confidence threshold (0.0-1.0)"
                },
                "stop_loss_pct": {
                    "type": "number",
                    "required": false
                },
                "capital_risk_pct": {
                    "type": "number",
                    "required": false
                }
            },
            "returns": {
                "metadata": "Scan metadata (total scanned, passed filter)",
                "shortlist": "Top 10 ranked predictions"
            }
        },
        {
            "name": "analyze",
            "description": "Analyze single symbol across multiple horizons with risk parameters",
            "endpoint": "/tools/analyze",
            "method": "POST",
            "authentication": "required",
            "rate_limit": true,
            "parameters": {
                "symbol": {
                    "type": "string",
                    "required": true,
                    "description": "Stock symbol to analyze"
                },
                "horizons": {
                    "type": "array",
                    "required": false,
                    "default": [
                        "intraday"
                    ],
                    "description": "List of horizons to analyze"
                },
                "stop_loss_pct": {
                    "type": "number",
                    "required": false,
                    "default": 2.0
                },
                "capital_risk_pct": {
                    "type": "number",
                    "required": false,
                    "default": 1.0
                },
                "drawdown_limit_pct": {
                    "type": "number",
                    "required": false,
                    "default": 5.0
                }
            },
            "returns": {
                "horizon_analysis": "Predictions for each horizon",
                "position_sizing": "Recommended position sizes",
                "recommendation": "Overall recommendation with consensus"
            }
        },
        {
            "name": "confirm",
            "description": "Confirm or reject a trade decision",
            "endpoint": "/tools/confirm",
            "method": "POST",
            "authentication": "required",
            "rate_limit": true,
            "parameters": {
                "symbol": {
                    "type": "string",
                    "required": true,
                    "description": "Stock symbol to confirm"
                },
                "decision": {
                    "type": "string",
                    "required": true,
                    "options": [
                        "approve",
                        "reject"
                    ],
                    "description": "Trade decision"
                },
                "session_id": {
                    "type": "string",
                    "required": true,
                    "description": "Session identifier"
                },
                "reason": {
                    "type": "string",
                    "required": false,
                    "description": "Reason for the decision"
                }
            },
            "returns": {
                "result": "Confirmation result with status and timestamp"
            }
        }
    ],
    "authentication": {
        "type": "JWT",
        "header": "Authorization: Bearer <token>",
        "login_endpoint": "/auth/login",
        "token_expiration": "24 hours"
    },
    "rate_limits": {
        "per_minute": 20,
        "per_hour": 200
    },
    "logging": {
        "request_log": "data/logs/api_requests.jsonl",
        "mcp_request_log": "data/logs/mcp_requests.jsonl",
        "mcp_response_log": "data/logs/mcp_responses.jsonl",
        "security_log": "data/logs/security.jsonl"
    }
}